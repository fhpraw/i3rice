#!/usr/bin/bash

# update packages
sudo pacman -Syyu --noconfirm

# ---------------------------------------------------------------
# install packages
# ---------------------------------------------------------------
# xorg for GUI
sudo pacman -S --noconfirm xorg-server xorg-xinit
# GPU Hybrid driver, intel and amd
sudo pacman -S --noconfirm xf86-video-intel xf86-video-amdgpu
# window manager
sudo pacman -S --noconfirm i3-wm
# status bar
sudo pacman -S --noconfirm i3blocks
# menu
sudo pacman -S --noconfirm dmenu
# terminal
sudo pacman -S --noconfirm xterm
# font
sudo pacman -S --noconfirm noto-fonts noto-fonts-cjk noto-fonts-emoji noto-fonts-extra
# audio system
sudo pacman -S --noconfirm pulseaudio-alsa pulsemixer
# Multimonitor manager
sudo pacman -S --noconfirm arandr
# screen brightness control
sudo pacman -S --noconfirm xorg-xbacklight
# wallpaper setter
sudo pacman -S --noconfirm xwallpaper
# text editor
sudo pacman -S --noconfirm neovim
# file manager
sudo pacman -S --noconfirm ranger
# web browser
sudo pacman -S --noconfirm chromium
# office
sudo pacman -S --noconfirm libreoffice-fresh
# pdf reader
sudo pacman -S --noconfirm zathura zathura-pdf-mupdf
# draw vector
sudo pacman -S --noconfirm inkscape
# draw bitmap
sudo pacman -S --noconfirm gimp
# image viewer
sudo pacman -S --noconfirm sxiv
# image converter
sudo pacman -S --noconfirm imagemagick
# audio video converter
sudo pacman -S --noconfirm ffmpeg
# video player
sudo pacman -S --noconfirm mpv
# mp3 player
sudo pacman -S --noconfirm cmus
# video or audio media information
sudo pacman -S --noconfirm mediainfo
# zip tools
sudo pacman -S --noconfirm zip unzip
# extract rar file
sudo pacman -S --noconfirm unrar
# downloader
sudo pacman -S --noconfirm wget
# youtube downloader
sudo pacman -S --noconfirm youtube-dl
# screenshot
sudo pacman -S --noconfirm scrot
# system monitor
sudo pacman -S --noconfirm htop
# clipboard
sudo pacman -S --noconfirm xclip
# system info
sudo pacman -S --noconfirm neofetch
# NTFS support
sudo pacman -S --noconfirm ntfs-3g
# DOS File Systems support
sudo pacman -S --noconfirm dosfstools
# manual
sudo pacman -S --noconfirm man-db
# power management
sudo pacman -S --noconfirm tlp tp_smapi
# battery info
sudo pacman -S --noconfirm acpi

# set touchpad
sudo cp config-touchpad /etc/X11/xorg.conf.d/30-touchpad.conf

# make directories
mkdir -p ~/.local/share/fonts/
mkdir -p ~/.config/{fontconfig,i3,i3blocks,nvim}
mkdir -p ~/{Documents,Pictures,Videos,Audios,Projects,Downloads}
mkdir -p ~/Pictures/Wallpapers/

# install Jetbrain font
curl -LJO https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/JetBrainsMono.zip
unzip JetBrainsMono.zip -d ~/.local/share/fonts/
fc-cache

# bashrc
echo "set -o vi" >> ~/.bashrc

# xinitrc
echo "[[ -f ~/.Xresources ]] && xrdb -merge -I\$HOME ~/.Xresources" >> ~/.xinitrc
echo "[ -f ~/.xprofile ] && . ~/.xprofile" >> ~/.xinitrc
echo "exec i3" >> ~/.xinitrc

# xprofile
echo "xset -b" >> ~/.xprofile
echo "xwallpaper --zoom ~/Pictures/Wallpapers/wall.jpg" >> ~/.xprofile

cp config-xresources ~/.Xresources
cp config-font ~/.config/fontconfig/fonts.conf
cp config-i3 ~/.config/i3/config
cp config-i3blocks ~/.config/i3blocks/config
cp config-nvim ~/.config/nvim/init.vim
cp wall.jpg ~/Pictures/Wallpapers/wall.jpg

sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
nvim --headless +PlugInstall +qall
